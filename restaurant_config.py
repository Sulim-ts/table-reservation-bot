"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–¥–µ—Å—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
"""

RESTAURANT_CONFIG = {
    # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    "name": "–í–∫—É—Å–Ω—ã–π —É–≥–æ–ª–æ–∫",
    "address": "—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123",
    "phone": "+7 (999) 123-45-67",

    # –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (—Ç–µ–ø–µ—Ä—å —Å –º–∏–Ω—É—Ç–∞–º–∏)
    "open_time": "2:00",  # –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è (—Ñ–æ—Ä–º–∞—Ç –ß–ß:–ú–ú)
    "close_time": "23:00",  # –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è (—Ñ–æ—Ä–º–∞—Ç –ß–ß:–ú–ú)

    # –°—Ç–æ–ª–∏–∫–∏
    "tables": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],  # –Ω–æ–º–µ—Ä–∞ —Å—Ç–æ–ª–∏–∫–æ–≤
    "max_guests": 10,  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π –∑–∞ —Å—Ç–æ–ª–æ–º

    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–≤ –º–∏–Ω—É—Ç–∞—Ö)
    "time_interval": 60,  # 1 —á–∞—Å

    # –ó–æ–Ω—ã
    "zones": {
        "main": "üçΩÔ∏è –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ª"
    },

    # –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    "social_media": {
        "instagram": "@vkusnyi_ugolok",
        "vk": "vk.com/vkusnyi_ugolok",
        "telegram": "@vkusnyi_ugolok"
    },

    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–û –Ω–∞—Å"
    "about": {
        "description": "–ú—ã —Å–æ–∑–¥–∞–µ–º —É—é—Ç–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–ª—è –≤–∞—à–µ–≥–æ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –≤–µ—á–µ—Ä–∞. "
                       "–í –Ω–∞—à–µ–º –∑–∞–ª–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —Ä–∞–∑–º–µ—Å—Ç—è—Ç—Å—è –∫–∞–∫ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—Ä–∞, "
                       "—Ç–∞–∫ –∏ –±–æ–ª—å—à–∞—è –∫–æ–º–ø–∞–Ω–∏—è –¥—Ä—É–∑–µ–π.",
        "features": [
            "ü™ë –£—é—Ç–Ω—ã–µ —Å—Ç–æ–ª–∏–∫–∏ –Ω–∞ 1-10 —á–µ–ª–æ–≤–µ–∫",
            "üéµ –ü—Ä–∏—è—Ç–Ω–∞—è —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞",
            "üë®‚Äçüç≥ –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è",
            "üç∑ –ë–æ–≥–∞—Ç—ã–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤",
            "üÖøÔ∏è –£–¥–æ–±–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ —Ä—è–¥–æ–º"
        ]
    },

    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏
    "location": {
        "metro": "—Å—Ç–∞–Ω—Ü–∏—è '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è' (5 –º–∏–Ω—É—Ç –ø–µ—à–∫–æ–º)",
        "buses": "10, 25, 30 (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ '–£–ª–∏—Ü–∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è')",
        "parking": "–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è, –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è"
    }
}


def get_working_hours():
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ"""
    open_hour, open_minute = map(int, RESTAURANT_CONFIG["open_time"].split(':'))
    close_hour, close_minute = map(int, RESTAURANT_CONFIG["close_time"].split(':'))

    open_str = f"{open_hour:02d}:{open_minute:02d}"
    close_str = f"{close_hour:02d}:{close_minute:02d}"

    return open_str, close_str


def get_last_booking_time():
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–æ–∑–º–æ–∂–Ω–æ–π –±—Ä–æ–Ω–∏ (–∑–∞ —á–∞—Å –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è)"""
    close_hour, close_minute = map(int, RESTAURANT_CONFIG["close_time"].split(':'))

    # –í—ã—á–∏—Ç–∞–µ–º 1 —á–∞—Å –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –±—Ä–æ–Ω–∏
    last_hour = close_hour - 1
    if last_hour < 0:
        last_hour = 23

    return f"{last_hour:02d}:{close_minute:02d}"


# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
def set_restaurant_config(new_config):
    """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞"""
    global RESTAURANT_CONFIG
    RESTAURANT_CONFIG.update(new_config)


# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
def validate_working_hours():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã"""
    open_time = RESTAURANT_CONFIG["open_time"]
    close_time = RESTAURANT_CONFIG["close_time"]

    try:
        open_hour, open_minute = map(int, open_time.split(':'))
        close_hour, close_minute = map(int, close_time.split(':'))

        if not (0 <= open_hour < 24 and 0 <= open_minute < 60):
            raise ValueError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è")

        if not (0 <= close_hour < 24 and 0 <= close_minute < 60):
            raise ValueError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è")

        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        open_in_minutes = open_hour * 60 + open_minute
        close_in_minutes = close_hour * 60 + close_minute

        if open_in_minutes >= close_in_minutes:
            raise ValueError("–í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–∫—Ä—ã—Ç–∏—è")

        return True
    except ValueError as e:
        raise ValueError(f"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏: {e}")


# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
try:
    validate_working_hours()
    print(f"‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ '{RESTAURANT_CONFIG['name']}' –∑–∞–≥—Ä—É–∂–µ–Ω–∞")
    open_str, close_str = get_working_hours()
    print(f"üïí –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: {open_str} - {close_str}")
    print(f"‚è∞ –ü–æ—Å–ª–µ–¥–Ω—è—è –±—Ä–æ–Ω—å: {get_last_booking_time()}")
except Exception as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞: {e}")
